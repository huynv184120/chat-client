{"ast":null,"code":"var _jsxFileName = \"/home/huy/chat-module/chat-client/src/chat-module/component/chatwindow/AddMember.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { TextField } from \"@material-ui/core\";\nimport socketEvent from \"../../socket_io/events\";\nimport { userApi } from '../../api';\nimport Member from '../user/Member';\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\nimport { useSelector } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(() => ({\n  container: {\n    padding: \"10px\",\n    height: \"80px\"\n  },\n  normalInput: {\n    height: \"30px\",\n    width: \"auto\",\n    alignItems: \"center\",\n    \"& .MuiInputBase-root\": {\n      height: \"25px\"\n    },\n    flexGrow: \"1\"\n  },\n  result: {\n    display: \"flex\",\n    alignItems: 'center'\n  }\n}));\n\nconst AddMember = _ref => {\n  _s();\n\n  let {\n    socket\n  } = _ref;\n  const classes = useStyles();\n  const [email, setEmail] = useState(\"\");\n  const [inviteUser, setInviteUser] = useState({\n    disable: false,\n    username: \"\",\n    email: \"\",\n    online: false,\n    avatarUrl: \"\"\n  });\n  const currentRoom = useSelector(state => state.room.currentRoom);\n\n  const handleInvite = () => {\n    socket.emit(socketEvent.inviteMember, {\n      email: inviteUser.email,\n      room_id: currentRoom\n    });\n    setEmail(\"\");\n    setInviteUser({ ...inviteUser,\n      disable: false\n    });\n  };\n\n  const handleSearch = async e => {\n    const em = e.target.value;\n    setEmail(em);\n    setInviteUser({ ...inviteUser,\n      disable: false\n    });\n\n    if (em[em.length - 1] === '@' || e.key == 'Enter') {\n      const user = await userApi.finduser({\n        email: em,\n        room_id: currentRoom\n      });\n      setInviteUser({\n        disable: true,\n        ...user\n      });\n    }\n  };\n\n  useEffect(() => {\n    setInviteUser({ ...inviteUser,\n      disable: false\n    });\n    setEmail(\"\");\n  }, [currentRoom]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.container,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.normalInput,\n      children: /*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        variant: \"outlined\",\n        placeholder: \"email\",\n        value: email,\n        onChange: handleSearch,\n        onKeyDown: handleSearch\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this), inviteUser.disable && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.result,\n      children: [/*#__PURE__*/_jsxDEV(Member, {\n        username: inviteUser.username,\n        email: inviteUser.email,\n        avatarUrl: inviteUser.avatarUrl,\n        isOnline: inviteUser.online\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this), inviteUser.invite && /*#__PURE__*/_jsxDEV(AddCircleOutlineIcon, {\n        style: {\n          fontSize: \"40px\",\n          color: \"rgb(52, 86, 173)\"\n        },\n        onClick: handleInvite\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 39\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 36\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 9\n  }, this);\n};\n\n_s(AddMember, \"voYehsbqGgMVNbKP2RXmgsPH2+0=\", false, function () {\n  return [useStyles, useSelector];\n});\n\n_c = AddMember;\nexport default AddMember;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddMember\");","map":{"version":3,"names":["React","useEffect","useState","makeStyles","TextField","socketEvent","userApi","Member","AddCircleOutlineIcon","useSelector","useStyles","container","padding","height","normalInput","width","alignItems","flexGrow","result","display","AddMember","socket","classes","email","setEmail","inviteUser","setInviteUser","disable","username","online","avatarUrl","currentRoom","state","room","handleInvite","emit","inviteMember","room_id","handleSearch","e","em","target","value","length","key","user","finduser","invite","fontSize","color"],"sources":["/home/huy/chat-module/chat-client/src/chat-module/component/chatwindow/AddMember.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { TextField } from \"@material-ui/core\";\nimport socketEvent from \"../../socket_io/events\";\nimport { userApi } from '../../api';\nimport Member from '../user/Member';\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\nimport { useSelector } from 'react-redux';\nconst useStyles = makeStyles(() => ({\n    container: {\n        padding: \"10px\",\n        height: \"80px\"\n    },\n    normalInput: {\n        height: \"30px\",\n        width: \"auto\",\n        alignItems: \"center\",\n        \"& .MuiInputBase-root\": {\n            height: \"25px\"\n        },\n        flexGrow: \"1\",\n    },\n    result: {\n        display: \"flex\",\n        alignItems: 'center'\n    }\n}))\n\nconst AddMember = ({ socket }) => {\n    const classes = useStyles();\n    const [email, setEmail] = useState(\"\");\n    const [inviteUser, setInviteUser] = useState({\n        disable: false,\n        username: \"\",\n        email: \"\",\n        online: false,\n        avatarUrl: \"\"\n    });\n    const currentRoom = useSelector(state => state.room.currentRoom);\n\n    const handleInvite = () => {\n        socket.emit(socketEvent.inviteMember,{email:inviteUser.email,room_id:currentRoom});\n        setEmail(\"\");\n        setInviteUser({...inviteUser, disable: false});\n    };\n\n    const handleSearch = async (e) => {\n        const em = e.target.value;\n        setEmail(em);\n        setInviteUser({...inviteUser, disable: false});\n        if (em[em.length - 1] === '@' || e.key == 'Enter') {\n            const user = await userApi.finduser({ email: em, room_id: currentRoom });\n            setInviteUser({ disable: true, ...user });\n        }\n    }\n\n    useEffect(() => {\n        setInviteUser({...inviteUser, disable: false});\n        setEmail(\"\");\n    }, [currentRoom])\n    \n    return (\n        <div className={classes.container}>\n            <div className={classes.normalInput}>\n                <TextField\n                    fullWidth variant=\"outlined\"\n                    placeholder=\"email\"\n                    value={email}\n                    onChange={handleSearch}\n                    onKeyDown={handleSearch}\n                />\n            </div>\n            {inviteUser.disable && <div className={classes.result}>\n                <Member username={inviteUser.username} email={inviteUser.email} avatarUrl={inviteUser.avatarUrl} isOnline={inviteUser.online} />\n                {inviteUser.invite && <AddCircleOutlineIcon style={{ fontSize: \"40px\", color: \"rgb(52, 86, 173)\" }}\n                    onClick={handleInvite}\n                />}\n            </div>}\n\n\n        </div>\n    );\n}\n\nexport default AddMember;"],"mappings":"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"},"metadata":{},"sourceType":"module"}