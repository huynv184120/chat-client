{"ast":null,"code":"import _objectSpread from \"/home/huy/chat-module/chat-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/home/huy/chat-module/chat-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/huy/chat-module/chat-client/src/component/chatwindow/InputMessage.js\";\n\nimport React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { TextField } from \"@material-ui/core\";\nimport SendIcon from '@material-ui/icons/Send';\nimport SentimentVerySatisfiedIcon from '@material-ui/icons/SentimentVerySatisfied';\nimport PhotoLibraryIcon from '@material-ui/icons/PhotoLibrary';\nimport { memo } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport socketEvent from \"../../socket_io/events\";\nimport 'emoji-mart/css/emoji-mart.css';\nimport { Picker } from 'emoji-mart';\nvar useStyles = makeStyles(function () {\n  return {\n    inputContainer: {\n      height: \"80px\",\n      width: \"100%\",\n      minHeight: \"80px\",\n      display: \"flex\",\n      bottom: \"0px\"\n    },\n    otherInput: {\n      height: \"80px\",\n      width: \"140px\",\n      float: \"left\",\n      padding: \"6px\",\n      display: \"flex\",\n      justifyContent: \"flex-end\"\n    },\n    normalInput: {\n      height: \"80px\",\n      width: \"auto\",\n      alignItems: \"center\",\n      \"& .MuiInputBase-root\": {},\n      float: \"left\",\n      flexGrow: \"1\"\n    },\n    submitContainer: {\n      width: \"100px\",\n      height: \"80px\",\n      paddingTop: \"6px\"\n    }\n  };\n});\n\nvar InputMessages = function InputMessages(_ref) {\n  var socket = _ref.socket;\n  var initMess = {\n    to: \"\",\n    content: \"\"\n  };\n  var classes = useStyles();\n  var currentRoom = useSelector(function (state) {\n    return state.room.currentRoom;\n  });\n\n  var _useState = useState(_objectSpread({}, initMess)),\n      _useState2 = _slicedToArray(_useState, 2),\n      message = _useState2[0],\n      setMessage = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      showEmoji = _useState4[0],\n      setShowEmoji = _useState4[1];\n\n  var sendMessage = function sendMessage() {\n    message.to = currentRoom;\n    message.content = message.content.trim();\n    var valid = message.content.length;\n    if (valid) socket.emit(socketEvent.sendMessage, message);\n    setMessage(_objectSpread({}, initMess));\n  };\n\n  var handleEmojiSelect = function handleEmojiSelect(e) {\n    setMessage(function (message) {\n      return _objectSpread({}, message, {\n        content: message.content + e.native\n      });\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.inputContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.otherInput,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(PhotoLibraryIcon, {\n    style: {\n      fontSize: \"40px\",\n      color: \"rgb(52, 86, 173)\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.normalInput,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    variant: \"outlined\",\n    placeholder: \"Aa\",\n    InputProps: {\n      endAdornment: /*#__PURE__*/React.createElement(SentimentVerySatisfiedIcon, {\n        style: {\n          fontSize: \"40px\",\n          color: \"rgb(52, 86, 173)\",\n          cursor: \"pointer\"\n        },\n        onClick: function onClick() {\n          setShowEmoji(!showEmoji);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 39\n        }\n      })\n    },\n    value: message.content,\n    onChange: function onChange(e) {\n      return setMessage(_objectSpread({}, message, {\n        content: e.target.value\n      }));\n    },\n    onKeyDown: function onKeyDown(e) {\n      if (e.key == 'Enter') sendMessage();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }), showEmoji && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      position: \"absolute\",\n      bottom: \"80px\",\n      right: \"12%\",\n      zIndex: \"1\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Picker, {\n    onSelect: handleEmojiSelect,\n    emojiSize: 20,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.submitContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(SendIcon, {\n    style: {\n      fontSize: \"40px\",\n      color: \"rgb(52, 86, 173)\"\n    },\n    onClick: sendMessage,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  })));\n};\n\nexport default memo(InputMessages);","map":{"version":3,"names":["React","useState","makeStyles","TextField","SendIcon","SentimentVerySatisfiedIcon","PhotoLibraryIcon","memo","useSelector","socketEvent","Picker","useStyles","inputContainer","height","width","minHeight","display","bottom","otherInput","float","padding","justifyContent","normalInput","alignItems","flexGrow","submitContainer","paddingTop","InputMessages","socket","initMess","to","content","classes","currentRoom","state","room","message","setMessage","showEmoji","setShowEmoji","sendMessage","trim","valid","length","emit","handleEmojiSelect","e","native","fontSize","color","endAdornment","cursor","target","value","key","position","right","zIndex"],"sources":["/home/huy/chat-module/chat-client/src/component/chatwindow/InputMessage.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { TextField } from \"@material-ui/core\";\nimport SendIcon from '@material-ui/icons/Send';\nimport SentimentVerySatisfiedIcon from '@material-ui/icons/SentimentVerySatisfied';\nimport PhotoLibraryIcon from '@material-ui/icons/PhotoLibrary';\nimport { memo } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport socketEvent from \"../../socket_io/events\";\nimport 'emoji-mart/css/emoji-mart.css'\nimport { Picker } from 'emoji-mart'\n\nconst useStyles = makeStyles(() => ({\n    inputContainer: {\n        height: \"80px\",\n        width: \"100%\",\n        minHeight: \"80px\",\n        display: \"flex\",\n        bottom: \"0px\",\n    },\n    otherInput: {\n        height: \"80px\",\n        width: \"140px\",\n        float: \"left\",\n        padding: \"6px\",\n        display: \"flex\",\n        justifyContent: \"flex-end\"\n    },\n    normalInput: {\n        height: \"80px\",\n        width: \"auto\",\n        alignItems: \"center\",\n        \"& .MuiInputBase-root\": {\n        },\n        float: \"left\",\n        flexGrow: \"1\",\n\n    },\n    submitContainer: {\n        width: \"100px\",\n        height: \"80px\",\n        paddingTop: \"6px\"\n    }\n\n}))\n\n\nconst InputMessages = ({ socket }) => {\n    const initMess = {\n        to: \"\",\n        content: \"\",\n    };\n    const classes = useStyles();\n    const currentRoom = useSelector(state => state.room.currentRoom);\n    const [message, setMessage] = useState({ ...initMess });\n    const [showEmoji, setShowEmoji] = useState(false)\n\n    const sendMessage = () => {\n        message.to = currentRoom;\n        message.content = message.content.trim();\n        const valid = message.content.length;\n        if (valid)\n            socket.emit(socketEvent.sendMessage, message);\n        setMessage({ ...initMess });\n    };\n    const handleEmojiSelect = (e)=>{\n        setMessage((message) => ({...message, content:(message.content+e.native)}));\n    }\n\n\n    return (\n        <div className={classes.inputContainer}>\n            <div className={classes.otherInput}>\n                <PhotoLibraryIcon style={{ fontSize: \"40px\", color: \"rgb(52, 86, 173)\" }} />\n            </div>\n            <div className={classes.normalInput}>\n                <TextField\n                    fullWidth variant=\"outlined\"\n                    placeholder=\"Aa\"\n                    InputProps={{\n                        endAdornment: <SentimentVerySatisfiedIcon style={{ fontSize: \"40px\", color: \"rgb(52, 86, 173)\" , cursor:\"pointer\"}} onClick={()=>{setShowEmoji(!showEmoji)}}/>\n                    }}\n                    value={message.content}\n                    onChange={(e) => setMessage({ ...message, content: e.target.value })}\n                    onKeyDown={(e) => { if (e.key == 'Enter') sendMessage(); }}\n                />\n                {showEmoji && (\n                    <div style={{ position: \"absolute\", bottom: \"80px\", right: \"12%\", zIndex: \"1\" }}>\n                        <Picker\n                                onSelect={handleEmojiSelect}\n                            emojiSize={20} />\n                    </div>\n                )}\n            </div>\n            <div className={classes.submitContainer}>\n                <SendIcon style={{ fontSize: \"40px\", color: \"rgb(52, 86, 173)\" }} onClick={sendMessage} />\n            </div>\n        </div>);\n}\n\nexport default memo(InputMessages);"],"mappings":"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"},"metadata":{},"sourceType":"module"}