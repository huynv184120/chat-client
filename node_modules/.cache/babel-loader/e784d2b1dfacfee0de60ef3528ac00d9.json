{"ast":null,"code":"import _objectSpread from \"/home/huy/chat-module/chat-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/home/huy/chat-module/chat-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/huy/chat-module/chat-client/src/component/room/RoomManage.js\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { memo } from \"react\";\nimport ListMembers from \"../user/ListMembers\";\nimport AddMember from \"../chatwindow/AddMember\";\nimport { useSelector } from \"react-redux\";\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport socketEvent from \"../../socket_io/events\";\nvar useStyles = makeStyles(function () {\n  return {\n    roomSetting: {\n      width: \"420px\",\n      border: \"solid 0.1px rgba(186, 172, 171, 0.6)\"\n    },\n    container: {\n      height: \"120px\",\n      width: \"auto\",\n      border: \"solid 0.1px rgba(186, 172, 171, 0.6)\",\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"space-evenly\"\n    }\n  };\n});\n\nvar RoomManage = function RoomManage(_ref) {\n  var socket = _ref.socket;\n  var classes = useStyles();\n  var currentRoom = useSelector(function (state) {\n    return state.room.currentRoom;\n  });\n  var rooms = useSelector(function (state) {\n    return state.room.listRoom;\n  });\n  var room = rooms.find(function (room) {\n    return room._id === currentRoom;\n  });\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      edit = _useState2[0],\n      setEdit = _useState2[1];\n\n  var _useState3 = useState({\n    roomname: room.roomname,\n    _id: currentRoom\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      roomInfo = _useState4[0],\n      setRoomInfo = _useState4[1];\n\n  var changeRoomInfo = function changeRoomInfo() {\n    if (room.roomname != roomInfo.roomname) socket.emit(socketEvent.updateRoomInfo, roomInfo);\n    setEdit(true);\n  };\n\n  useEffect(function () {\n    setRoomInfo({\n      roomname: room.roomname,\n      _id: currentRoom\n    });\n  }, [currentRoom]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.roomSetting,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, edit && /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      fontSize: \"30px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 26\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 58\n    }\n  }, room.roomname), /*#__PURE__*/React.createElement(SettingsIcon, {\n    style: {\n      marginLeft: \"10px\",\n      fontSize: \"12px\"\n    },\n    onClick: function onClick() {\n      setEdit(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 80\n    }\n  })), !edit && /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    id: \"outlined-basic\",\n    variant: \"outlined\",\n    value: roomInfo.roomname,\n    onChange: function onChange(e) {\n      setRoomInfo(_objectSpread({}, roomInfo, {\n        roomname: e.target.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 26\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: changeRoomInfo,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 21\n    }\n  }, \"edit\"))), /*#__PURE__*/React.createElement(AddMember, {\n    socket: socket,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ListMembers, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  })));\n};\n\nexport default memo(RoomManage);","map":{"version":3,"names":["React","useEffect","useState","makeStyles","memo","ListMembers","AddMember","useSelector","SettingsIcon","TextField","Button","socketEvent","useStyles","roomSetting","width","border","container","height","display","alignItems","justifyContent","RoomManage","socket","classes","currentRoom","state","room","rooms","listRoom","find","_id","edit","setEdit","roomname","roomInfo","setRoomInfo","changeRoomInfo","emit","updateRoomInfo","fontSize","marginLeft","e","target","value"],"sources":["/home/huy/chat-module/chat-client/src/component/room/RoomManage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { memo } from \"react\";\nimport ListMembers from \"../user/ListMembers\";\nimport AddMember from \"../chatwindow/AddMember\";\nimport { useSelector } from \"react-redux\";\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport socketEvent from \"../../socket_io/events\";\n\nconst useStyles = makeStyles(() => ({\n    roomSetting: {\n        width: \"420px\",\n        border: \"solid 0.1px rgba(186, 172, 171, 0.6)\",\n    },\n    container: {\n        height: \"120px\",\n        width: \"auto\",\n        border: \"solid 0.1px rgba(186, 172, 171, 0.6)\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-evenly\"\n    }\n}))\n\nconst RoomManage = ({ socket }) => {\n    const classes = useStyles();\n    const currentRoom = useSelector(state => state.room.currentRoom);\n    const rooms = useSelector(state => state.room.listRoom);\n    const room = rooms.find((room) => room._id === currentRoom);\n    const [edit, setEdit] = useState(true);\n    const [roomInfo, setRoomInfo] = useState(\n        {\n            roomname: room.roomname,\n            _id: currentRoom\n        }\n    );\n    const changeRoomInfo = () => {\n        if (room.roomname != roomInfo.roomname)\n            socket.emit(socketEvent.updateRoomInfo, roomInfo);\n        setEdit(true);\n    }\n\n    useEffect(() => {\n        setRoomInfo({\n            roomname: room.roomname,\n            _id: currentRoom\n        });\n    }, [currentRoom]);\n    \n\n    return (\n        <div className={classes.roomSetting}>\n            <div className={classes.container}>\n                {edit && <p style={{ fontSize: \"30px\" }}><b>{room.roomname}</b><SettingsIcon style={{ marginLeft: \"10px\", fontSize: \"12px\" }} onClick={() => { setEdit(false) }} /></p>}\n                {!edit && <div>\n                    <div><TextField id=\"outlined-basic\" variant=\"outlined\"\n                        value={roomInfo.roomname}\n                        onChange={(e) => { setRoomInfo({ ...roomInfo, roomname: e.target.value }) }}\n                    />\n                    </div>\n                    <Button variant=\"contained\" color=\"primary\" onClick={changeRoomInfo}>\n                        edit\n                    </Button>\n                </div>}\n            </div>\n            <AddMember socket={socket} />\n            <div>\n                <ListMembers />\n            </div>\n\n        </div>)\n}\n\nexport default memo(RoomManage);"],"mappings":"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"},"metadata":{},"sourceType":"module"}